[{"title":"CF2040C","url":"/2025/12/15/CF2040C/","content":"ç®€å•äºŒè¿›åˆ¶çŠ¶å‹ Problem - C - Codeforces \næ‰“è¡¨ï¼š\n#include&lt;bits/stdc++.h&gt;using ll = long long;using namespace std;    const int N=1e9+5;    void solve()&#123;        ll n; cin &gt;&gt; n;    vector&lt;int&gt; a(n + 1);    int ans = 0;    for (int i = 1; i &lt;= n; ++i) &#123;        a[i] = i;        ans += i * (n - i + 1);    &#125;    int cnt = 0;    do &#123;        int sum = 0;        for (int i = 1; i &lt;= n; ++i) &#123;            int mn = 0x3f3f3f3f;            for (int j = i; j &lt;= n; ++j) &#123;                mn = min(mn, a[j]);                sum += mn;            &#125;        &#125;        if (sum == ans)&#123;            ++cnt;            cout &lt;&lt; &quot;\\033[0m&quot; &lt;&lt; cnt &lt;&lt; &quot;: &quot;;            for (int i = 1; i &lt;= n; ++i) &#123;                if (a[i] == 3)  cout &lt;&lt; &quot;\\033[32m&quot; &lt;&lt; a[i] &lt;&lt; &quot; &quot;;                else cout &lt;&lt; &quot;\\033[31m&quot; &lt;&lt; a[i] &lt;&lt; &quot; &quot;;            &#125;            cout &lt;&lt; endl;        &#125;    &#125;while(next_permutation(a.begin() + 1, a.end()));    &#125;    int main()&#123;        //ios::sync_with_stdio(0);cin.tie(0);cout.tie(0);    int _=1;    while(_--)    solve();    system(&quot;pause&quot;);    return 0;    &#125;\nè¾“å…¥5ä¸ºä¾‹:\n\n\nä¸éš¾å‘ç°ï¼šä¸€åŠ1ï¼Œä¸€åŠ1é‡Œæœ‰ä¸€åŠ2ï¼Œä¸€åŠ2é‡Œåˆæœ‰ä¸€åŠ3â€¦\nè¶…è¿‡åŠæ•°å¾€åç«™ï¼Œä¸è¿‡åŠå¾€å‰ç«™\nå› æ­¤æœ‰è§£:\n#include&lt;bits/stdc++.h&gt;using ll = long long;using namespace std;void solve()&#123;        ll n, k; cin &gt;&gt; n &gt;&gt; k;    ll m = n;    vector&lt;int&gt; a(n + 1);    ll sum = 1LL;    for (int i = 1; i &lt; n; ++i) &#123;        sum &lt;&lt;= 1LL;        if (sum &gt;= 1e12) &#123;            sum = 1e12;            break;        &#125;    &#125;    if (k &gt; sum) &#123;        cout &lt;&lt; -1 &lt;&lt; endl;        return;    &#125;    int l = 1, r = n;    ll ls = 0LL, rs = sum;    for (int i = 1; i &lt;= n; ++i) &#123;        ll mid = ((ls + rs) &gt;&gt; 1LL);        if (k &lt;= mid) &#123;\t            a[l] = i;\t//ä¸è¿‡åŠå¾€å‰ç«™            ++l;            rs = mid;\t//é›†ä¸­å‰åŠæ®µ        &#125;        else &#123;            a[r] = i;\t//è¶…è¿‡åŠæ•°å¾€åç«™            --r;            ls = mid;\t//é›†ä¸­ååŠæ®µ        &#125;    &#125;    for (int i = 1; i &lt;= n; ++i) &#123;        cout &lt;&lt; a[i] &lt;&lt; &quot; &quot;;    &#125;    cout &lt;&lt; endl;    &#125;int main()&#123;        ios::sync_with_stdio(0);cin.tie(0);cout.tie(0);    int _=1;    cin&gt;&gt;_;    while(_--)    solve();    return 0;    &#125;\nä½†æ˜¯ï¼Œè¿™ä¹ˆè§£æ˜¯é”™çš„ï¼Œè®©æˆ‘ä»¬å¬å¬AIæ€ä¹ˆè¯´ã€‚\nå¯¹äº\nè¾“å…¥ï¼š1 60 2 æˆ‘è¾“å‡ºçš„æ˜¯ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 40 60 59 58 57 56 55 54 53 52 51 50 49 48 47 46 45 44 43 42 41 39 æ­£ç¡®ç­”æ¡ˆæ˜¯ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 60 59  \nä¸ºä»€ä¹ˆé”™äº†ï¼Ÿ \nä½ æŠŠ sum = 2^(n-1) äººä¸ºæˆªæ–­æˆ 1e12ã€‚å½“ n=60 æ—¶çœŸå®çš„ $2^{n-1}=2^{59}â‰ˆ5.76e17$ï¼Œè€Œä½ æŠŠå®ƒè®¾æˆ 1e12ã€‚ä»¥åä½ ç”¨ [ls,rs) ä»¥äºŒåˆ†åŒºé—´æŠŠ k æ˜ å°„æˆâ€œå·¦å³é€‰æ‹©â€çš„é€»è¾‘ ä¾èµ– rs-ls æ°å¥½æ˜¯ 2^(remaining) çš„å¹‚æ¬¡ã€‚æˆªæ–­åè¿™ä¸ªä¸å†æˆç«‹ï¼Œæ˜ å°„å°±è¢«å½»åº•ç ´åäº† â€”â€” å› æ­¤å†³ç­–åœ¨ç¬¬ ~39 æ¬¡æ‰ä»â€œæ”¾å·¦â€å˜æˆâ€œæ”¾å³â€ï¼Œäº§ç”Ÿä½ çœ‹åˆ°çš„ 1..38 ç„¶åä¸€å¤§æ®µä¹±åºçš„ç»“æœã€‚ \nä»€ä¹ˆæ„æ€ï¼ŒåŸæœ¬sumå¾ˆé•¿å¾ˆé•¿ï¼Œå¯ä»¥æˆªå¾ˆå¤šä¸ªäºŒåˆ†ï¼Œä½†å› ä¸ºåŸæœ¬sumå¤ªé•¿å¤ªé•¿äº†ï¼Œlong longå­˜ä¸ä¸‹ï¼Œæˆ‘æŠŠå®ƒæˆªæˆ 1e12ï¼ˆkçš„æœ€å¤§å€¼ï¼‰ï¼Œå¯¼è‡´æˆªçš„äºŒåˆ†æ•°å˜å°‘äº†ï¼Œmidå¾ˆå¿«æ‰°ä¹±äº†å¦‚ä¸‹ä»£ç çš„åˆ¤æ–­\nfor (int i = 1; i &lt;= n; ++i) &#123;    ll mid = ((ls + rs) &gt;&gt; 1LL);    if (k &lt;= mid) &#123;\t        a[l] = i;\t//ä¸è¿‡åŠå¾€å‰ç«™        ++l;        rs = mid;\t//é›†ä¸­å‰åŠæ®µ    &#125;    else &#123;        a[r] = i;\t//è¶…è¿‡åŠæ•°å¾€åç«™        --r;        ls = mid;\t//é›†ä¸­ååŠæ®µ    &#125;&#125;\nä¸å¦¨æƒ³ä¸€ä¸‹ï¼š\näºŒè¿›åˆ¶çŠ¶å‹æˆ‘ä»¬è¿™æ ·æ‰“è¡¨ï¼š\n#include&lt;bits/stdc++.h&gt;using ll = long long;using namespace std;    const int N=1e9+5;    void solve()&#123;        ll n; cin &gt;&gt; n;    vector&lt;int&gt; a(n + 1);    int ans = 0;    for (int i = 1; i &lt;= n; ++i) &#123;        a[i] = i;        ans += i * (n - i + 1);    &#125;    int cnt = 0;    do &#123;        int sum = 0;        for (int i = 1; i &lt;= n; ++i) &#123;            int mn = 0x3f3f3f3f;            for (int j = i; j &lt;= n; ++j) &#123;                mn = min(mn, a[j]);                sum += mn;            &#125;        &#125;        if (sum == ans)&#123;            ++cnt;            cout &lt;&lt; &quot;\\033[0m&quot; &lt;&lt; bitset&lt;4&gt;(cnt - 1)&lt;&lt; &quot;: &quot;; //ä»¥5ä¸ºä¾‹(0 ~ 15) 16ç§æƒ…å†µ            for (int i = 1; i &lt;= n; ++i) &#123;                if (a[i] == 1)  cout &lt;&lt; &quot;\\033[32m&quot; &lt;&lt; a[i] &lt;&lt; &quot; &quot;;                else cout &lt;&lt; &quot;\\033[31m&quot; &lt;&lt; a[i] &lt;&lt; &quot; &quot;;            &#125;            cout &lt;&lt; endl;        &#125;    &#125;while(next_permutation(a.begin() + 1, a.end()));    &#125;    int main()&#123;        //ios::sync_with_stdio(0);cin.tie(0);cout.tie(0);    int _=1;    while(_--)    solve();    system(&quot;pause&quot;);    return 0;    &#125;\n\n \næˆ‘ä»¬å¯ä»¥æƒ³åˆ°ï¼Œæˆ‘ä»¬ä¹‹å‰çš„æ­¥éª¤ä¸­ï¼Œæ¯ä¸€æ¬¡äºŒåˆ†ç›¸å½“äºæ¶ˆå»æœ€é«˜ä½ï¼Œè§‚å¯Ÿä¸‹ä¸€ä½ï¼Œå¦‚æœè¯¥ä½æ˜¯0ï¼Œå¾€å‰ç«™ï¼Œè¯¥ä½æ˜¯1ï¼Œå¾€åç«™ï¼Œæœ€åå‰©ä¸‹çš„ä¸€ä½ï¼Œå¡«æœ€åä¸€ä½ï¼ˆnï¼‰ã€‚\nå‡è®¾n = 5, å½“å‰ä½ç½®ä¸ºk = 8ï¼Œç”±äºä»0è®¡æ•°ï¼Œæ‰€ä»¥å‡1ï¼Œå¾—7ï¼ŒäºŒè¿›åˆ¶ä¸º0111ï¼Œäºæ˜¯ï¼Œæˆ‘ä»¬æœ‰ï¼š\n0111: 1 111: 1       2   11: 1     3 2   1: 1   4 3 2æœ€åï¼š1 5 4 3 2\nå®Œç¾ï¼\næˆ‘ä»¬å¯ä»¥åè¿‡æ¥ï¼Œä»nåˆ°1å¡«ï¼Œæ¯•ç«Ÿä»ä½ä½åˆ°é«˜ä½éå†æ•°ä½è¦å®¹æ˜“å¾ˆå¤šï¼Œä¸æ–­é™¤2å°±è¡Œã€‚å¡«æ•°å°±ç”¨åŒç«¯é˜Ÿåˆ—ä¸€ä¸ªä¸ªå¾€é‡ŒæŒ¤ï¼Œå¾ˆæ–¹ä¾¿ã€‚\nä»£ç å¦‚ä¸‹ï¼š\n#include&lt;bits/stdc++.h&gt;using ll = long long;using namespace std;void solve()&#123;        ll n, k; cin &gt;&gt; n &gt;&gt; k;    ll m = n;    vector&lt;int&gt; a(n + 1);    ll sum = 1LL;    for (int i = 1; i &lt; n; ++i) &#123;        sum &lt;&lt;= 1LL;        if (sum &gt;= 1e12) &#123;            sum = 1e12;            break;        &#125;    &#125;    if (k &gt; sum) &#123;        cout &lt;&lt; -1 &lt;&lt; endl;        return;    &#125;        ll b = k - 1;\t//ä»0è®¡æ•°ï¼Œå‡1    deque&lt;ll&gt; dq;    dq.push_back(n);    for (ll x = n - 1; x &gt;= 1; --x) &#123;        if (b &amp; 1LL) dq.push_back(x);        else dq.push_front(x);         b &gt;&gt;= 1;    &#125;    while(!dq.empty()) &#123;        cout &lt;&lt; dq.front() &lt;&lt; &quot; &quot;;        dq.pop_front();    &#125;    cout &lt;&lt; endl;    &#125;    int main()&#123;        ios::sync_with_stdio(0);cin.tie(0);cout.tie(0);    int _=1;    cin&gt;&gt;_;    while(_--)    solve();    return 0;    &#125;\nACäº†ï¼\né‚£ä½ å¯èƒ½ä¼šæƒ³ï¼šå‰é¢è¯´é‚£ä¹ˆå¤šï¼Œä¸è¿˜æ˜¯è§‚å¯Ÿå‡ºæ¥çš„å—ï¼Ÿ\næ˜¯çš„ã€‚\n","categories":["é¢˜è§£"],"tags":["C++"]},{"title":"P1005","url":"/2025/12/15/P1004/","content":"äºŒç»´dpçš„å›æº¯ä»¥åŠå››ç»´dpP1005 NOIP 2007 æé«˜ç»„] çŸ©é˜µå–æ•°æ¸¸æˆ - æ´›è°· \nè¿™é¢˜æˆ‘ä¸€å¼€å§‹ç”¨ä¸¤æ¬¡äºŒç»´dpè§£ï¼Œæ¯æ¬¡å–æœ€ä¼˜è·¯ï¼ˆç±»ä¼¼è´ªå¿ƒï¼‰ã€‚å¯æ˜¯æˆ‘ä¸ä¼šdpå›æº¯ï¼Œäºæ˜¯æœ‰äº†ä»¥ä¸‹é¢˜è§£ï¼š\näºŒç»´dpçš„å›æº¯å¦‚ä¸‹ï¼š\n void back(int x, int y) &#123;        if (x == 1 &amp;&amp; y == 1) &#123;        return;    &#125;    if (x &gt; 1 &amp;&amp; dp[x - 1][y] + a[x][y] == dp[x][y]) &#123;        back(x - 1, y);    &#125;    else if (y &gt; 1 &amp;&amp; dp[x][y - 1] + a[x][y] == dp[x][y]) &#123;        back(x, y - 1);    &#125;&#125;\nå¾ˆå¥½æ‡‚å§ï¼Œå› ä¸ºæ¯æ¬¡dpå–å¾—éƒ½æ˜¯åˆ°å½“å‰æ ¼çš„æœ€å¤§å€¼ï¼Œå› æ­¤è·¯å¾„ä¸€å®šå­˜åœ¨ï¼Œä¸€æ­¥æ­¥å‡å›å»å°±è¡Œã€‚\nå®Œæ•´ç å¦‚ä¸‹ï¼š\n #include&lt;bits/stdc++.h&gt;using ll = long long;using namespace std;    const int N=1e9+5;int dp1[11][11], dp2[11][11];int a[11][11];void back(int x, int y) &#123;        if (x == 1 &amp;&amp; y == 1) &#123;        a[x][y] = 0;        return;    &#125;    if (x &gt; 1 &amp;&amp; dp1[x - 1][y] + a[x][y] == dp1[x][y]) &#123;        a[x][y] = 0;        back(x - 1, y);    &#125;    else if (y &gt; 1 &amp;&amp; dp1[x][y - 1] + a[x][y] == dp1[x][y]) &#123;        a[x][y] = 0;        back(x, y - 1);    &#125;&#125;void solve()&#123;        int n; cin &gt;&gt; n;    while(1) &#123;        int x, y, z;        cin &gt;&gt; x &gt;&gt; y &gt;&gt; z;        if (x == 0 &amp;&amp; y == 0 &amp;&amp; z == 0) &#123;            break;        &#125;        else &#123;            a[x][y] = z;        &#125;    &#125;    int sum = 0;    for (int i = 1; i &lt;= n; ++i) &#123;        for (int j = 1; j &lt;= n; ++j) &#123;            dp1[i][j] = max(dp1[i - 1][j], dp1[i][j - 1]) + a[i][j];        &#125;    &#125;    sum += dp1[n][n];    back(n, n);    for (int i = 1; i &lt;= n; ++i) &#123;        for (int j = 1; j &lt;= n; ++j) &#123;            dp2[i][j] = max(dp2[i - 1][j], dp2[i][j - 1]) + a[i][j];        &#125;    &#125;    sum += dp2[n][n];    cout &lt;&lt; sum &lt;&lt; endl;    &#125;    int main()&#123;        ios::sync_with_stdio(0);cin.tie(0);cout.tie(0);    int _=1;    while(_--)    solve();    return 0;    &#125;\næ³¨æ„ä¸¤ç‚¹ï¼š\nvoid back(int x, int y) &#123;        //  a[x][y] = 0; ä¸è¦å†™åœ¨è¿™é‡Œï¼Œa[x][y]åé¢ä¼šç”¨åˆ°ï¼Œè¿™é‡Œä¸è¦å…ˆæ”¹ï¼Œåˆ°ifåé¢å†æ”¹ !!!        if (x == 1 &amp;&amp; y == 1) &#123;        a[x][y] = 0;\t        return;    &#125;    if (x &gt; 1 &amp;&amp; dp1[x - 1][y] + a[x][y] == dp1[x][y]) &#123;\t// x &gt; 1 ä¸è¦è¶Šç•Œ        a[x][y] = 0;        back(x - 1, y);    &#125;    else if (y &gt; 1 &amp;&amp; dp1[x][y - 1] + a[x][y] == dp1[x][y]) &#123;\t// åŒç†, y &gt; 1 ä¸è¦è¶Šç•Œ        a[x][y] = 0;        back(x, y - 1);    &#125;&#125;\næœç„¶paäº†ï¼Œå› ä¸ºå½“å‰æœ€ä¼˜ä¸ä»£è¡¨å…¨å±€æœ€ä¼˜ï¼Œè´ªå¿ƒæ€è·¯ä¸å¯è¡Œï¼Œåä¾‹ï¼š\n71 2 21 3 32 2 33 2 35 4 46 4 47 2 27 4 40 0 0\n0 2 3 0 0 0 00 3 0 0 0 0 00 3 0 0 0 0 00 0 0 0 0 0 00 0 0 4 0 0 00 0 0 4 0 0 00 2 0 4 0 0 0\nç­”æ¡ˆæ˜¯25ï¼Œç„¶è€Œæˆ‘çš„è§£æ³•ç¬¬ä¸€æ¬¡æ˜¯ï¼š\n0 0 3 0 0 0 00 0 0 0 0 0 00 0 0 0 0 0 00 0 0 0 0 0 00 0 0 0 0 0 00 0 0 0 0 0 00 2 0 0 0 0 0\nå¾—20ï¼Œç¬¬äºŒæ¬¡å¾—23ã€‚\nå®é™…ä¸Šæ˜¯ç¬¬ä¸€æ¬¡ï¼š\n0 0 3 0 0 0 00 0 0 0 0 0 00 0 0 0 0 0 00 0 0 0 0 0 00 0 0 4 0 0 00 0 0 4 0 0 00 0 0 0 0 0 0\nç¬¬äºŒæ¬¡å…¨åå®Œï¼Œå¾—25ã€‚\næ‰€ä»¥å¾—ç”¨å››ç»´dpåšã€‚\nå››ç»´dpç›´æ¥ä¸Šä»£ç å§ï¼š\n #include&lt;bits/stdc++.h&gt;using ll = long long;using namespace std;    int dp[11][11][11][11]; // dp[i][j][p][q]è¡¨ç¤ºç¬¬ä¸€éèµ°åˆ°ç‚¹(i, j),ç¬¬äºŒéèµ°åˆ°ç‚¹(p, q)çš„æœ€ä¼˜è§£int a[11][11];    void solve()&#123;        int n; cin &gt;&gt; n;    while(1) &#123;        int x, y, z;        cin &gt;&gt; x &gt;&gt; y &gt;&gt; z;        if (x == 0 &amp;&amp; y == 0 &amp;&amp; z == 0) &#123;            break;        &#125;        else &#123;            a[x][y] = z;        &#125;    &#125;    for (int i = 1; i &lt;= n; ++i) &#123;        for (int j = 1; j &lt;= n; ++j) &#123;            for (int p = 1; p &lt;= n; ++p) &#123;                for (int q = 1; q &lt;= n; ++q) &#123;                    dp[i][j][p][q] = max(max(dp[i-1][j][p-1][q], dp[i-1][j][p][q-1]), max(dp[i][j-1][p-1][q], dp[i][j-1][p][q-1])) + a[i][j] + a[p][q];\t\t\t\t\tif (i == p &amp;&amp; j == q) dp[i][j][p][q] -= a[i][j];                &#125;            &#125;        &#125;    &#125;    cout &lt;&lt; dp[n][n][n][n] &lt;&lt; endl;    &#125;    int main()&#123;        ios::sync_with_stdio(0);cin.tie(0);cout.tie(0);    int _=1;    while(_--)    solve();    return 0;    &#125;\n","categories":["é¢˜è§£"],"tags":["C++"]},{"title":"CF2167F","url":"/2025/12/17/CF2167F/","content":"CF2167Fé¢˜æ„\nç»™å®šä¸€æ£µæ ‘å’Œå‚æ•° k\nå®šä¹‰é›†åˆ$S_r$ï¼šä»¥ç‚¹ r ä½œä¸ºæ ¹ï¼Œè€ƒè™‘è¯¥æ ‘çš„æ¯ä¸€ç»„ k ä¸ªä¸åŒèŠ‚ç‚¹å¾—åˆ°çš„LCAé›†åˆ\nè¦æ±‚è®¡ç®— $\\sum_r |S_r|$\n\næœ¬é¢˜æ˜¯æ€ç»´é¢˜ï¼Œä¸LCAçš„æ±‚æ³•æ— å…³ï¼Œå…ˆçœ‹å®˜æ–¹çš„ACç å§\nACç #include &lt;bits/stdc++.h&gt;using namespace std;using ll = long long;void solve() &#123;    int n, k;    cin &gt;&gt; n &gt;&gt; k;    vector&lt;vector&lt;int&gt;&gt; a(n + 1);    for (int i = 1; i &lt; n; i++) &#123;        int u, v;        cin &gt;&gt; u &gt;&gt; v;        a[u].push_back(v);        a[v].push_back(u);    &#125;    //é¦–å…ˆæ˜¯å»ºæ ‘ï¼Œæ²¡ä»€ä¹ˆå¥½è¯´çš„ã€‚        vector&lt;int&gt; sz(n + 1, 1);    auto dfs = [&amp;] (auto &amp;dfs, int v, int p) -&gt; void&#123;        for (int u : a[v]) &#123;            if (u != p) &#123;                dfs(dfs, u, v);                sz[v] += sz[u];            &#125;        &#125;    &#125;;    dfs(dfs, 1, 0);    //è¿™é‡Œdfsæ˜¯åœ¨æ±‚ä»¥iä¸ºèŠ‚ç‚¹çš„å­æ•°ç»“ç‚¹ä¸ªæ•°ï¼ˆåŒ…æ‹¬iè‡ªå·±ï¼‰ï¼Œç»“æœå­˜åœ¨sz[i]ä¸­ã€‚    //ä½ è¦é—®äº†ï¼šæ ‘çš„æ ¹ä¸æ˜¯åœ¨å˜å—ï¼Œæ ‘çš„ç»“æ„ä¹Ÿåœ¨å˜å•Šï¼ä¸ºä»€ä¹ˆå¯ä»¥ç¡®å®šå­æ ‘å‘ï¼Ÿ     //åé¢å°±çŸ¥é“äº†ï¼Œæ˜¯ä¸ºäº†æ–¹ä¾¿åˆ†å—ã€‚    ll ans = 0;     for (int i = 1; i &lt;= n; i++) &#123;        if (n - sz[i] &gt;= k) ans += sz[i];         if (sz[i] &gt;= k) ans += n - sz[i];    &#125;    cout &lt;&lt; ans + n &lt;&lt; endl;    //æœ€é‡è¦çš„ä¸€æ­¥ï¼Œå•æ‹å‡ºæ¥è®²ã€‚&#125;int main() &#123;    ios::sync_with_stdio(false);    cin.tie(0);    int t;    cin &gt;&gt; t;    while (t--) &#123;        solve();    &#125;    return 0;&#125;\næ ¸å¿ƒä»£ç ll ans = 0; for (int i = 1; i &lt;= n; i++) &#123;    if (n - sz[i] &gt;= k) ans += sz[i];     if (sz[i] &gt;= k) ans += n - sz[i];&#125;cout &lt;&lt; ans + n &lt;&lt; &#x27;\\n&#x27;;\næˆ‘ä»¬å®šä¹‰ (r, v): ä»¥rä¸ºæ ¹æ—¶ï¼Œå­˜åœ¨ä¸€ç§k-é›†åˆï¼Œä½¿å¾—væ˜¯è¿™kä¸ªèŠ‚ç‚¹çš„LCA ã€‚é‚£ä¹ˆï¼Œè¿™é‡Œçš„ansåŠ çš„å°±æ˜¯(r, v)çš„ä¸ªæ•°ï¼Œåªä¸è¿‡ï¼šè¿™é‡Œçš„ i å¹¶ä¸ä»£è¡¨ rï¼\næˆ‘ä»¬æ¥çœ‹ç¬¬ä¸‰ä¸ªæ ·ä¾‹\né»˜è®¤ä»¥ 1 ä¸º DFS æ ¹ï¼š    1   / \\  2   3 / \\   \\4   5   6sz[1] = 6,sz[2] = 3,sz[3] = 2,sz[4] = 1,sz[5] = 1,sz[6] = 1;\n\n\n\n\nr\nS_r\n\n\n\n\n1\n{1, 2}\n\n\n2\n{1, 2}\n\n\n3\n{1, 2, 3}\n\n\n4\n{1, 2, 4}\n\n\n5\n{1, 2, 5}\n\n\n6\n{1, 2, 3, 6}\n\n\n\n\næ‰€ä»¥æ‰€æœ‰ (r, v) å¯¹ä¸€å…± 17 ä¸ªï¼š\nr=1 : (1,1), (1,2)r=2 : (2,1), (2,2)r=3 : (3,1), (3,2), (3,3)r=4 : (4,1), (4,2), (4,4)r=5 : (5,1), (5,2), (5,5)r=6 : (6,1), (6,2), (6,3), (6,6)\næ ·ä¾‹æ¨¡å®Œï¼Œæˆ‘ä»¬æ¥çœ‹ä»£ç å¦‚ä½•å®ç°ï¼šans = 0ï¼›for (int i = 1; i &lt;= n; i++) &#123;    if (n - sz[i] &gt;= k) ans += sz[i];     if (sz[i] &gt;= k) ans += n - sz[i];&#125;æœ€åï¼šans += n;\ni = 1n - sz[1] = 0 &lt; 3 \nsz[1] = 6 &gt;= 3 âœ… ans += 0\nè¿™ä¸€è½®å¾ªç¯æ²¡åŠ ä»»ä½•ä¸œè¥¿ï¼Œä½†åˆ«æ€¥ï¼Œ1 çš„ (r=1, v=1) åœ¨æœ€å +n é‡Œã€‚(r=1, v =2)å‘¢ï¼Ÿåœ¨åé¢ã€‚\ni = 2    1   / \\  2   3 / \\   \\4   5   6\nn - sz[2] = 3 &gt;= kè¿™é‡ŒæŒ‡çš„æ˜¯ï¼šå› ä¸ºç»“ç‚¹2çš„å­æ ‘å¤–çš„å…ƒç´ ä¸ªæ•° &gt;= kï¼Œæ‰€ä»¥ ä»¥ç»“ç‚¹2çš„å­æ ‘ä¸­çš„ä»»æ„å…ƒç´ ä¸ºæ ¹æ—¶ï¼Œç»“ç‚¹1ï¼ˆ2çš„çˆ¶ç»“ç‚¹ï¼‰ç»å¯¹å¯ä»¥ä½œä¸ºLCAï¼(é€‰è¿™kä¸ªå°±è¡Œ)\n\nr âˆˆ å­æ ‘(2) = {2,4,5}\nè´¡çŒ®çš„æ˜¯ï¼š(2,1), (4,1), (5,1), ans += sz[2]\n\nsz[2] = 3 &gt;= kè¿™é‡ŒæŒ‡çš„æ˜¯ï¼šå› ä¸ºç»“ç‚¹2çš„å­æ ‘çš„å…ƒç´ ä¸ªæ•° &gt;= kï¼Œæ‰€ä»¥ ä»¥ç»“ç‚¹2çš„å­æ ‘å¤–çš„ä»»æ„å…ƒç´ ä¸ºæ ¹æ—¶ï¼Œç»“ç‚¹2ç»å¯¹å¯ä»¥ä½œä¸ºLCAï¼(é€‰è¿™kä¸ªå°±è¡Œ)\n\nr âˆˆ å­æ ‘å¤– = {1,3,6}\nè´¡çŒ®çš„æ˜¯ï¼š(1,2), (3,2), (6,2), ans += n - sz[2]\n\næœ€åä¸€æ­¥ï¼šans += nans += 6\nğŸ‘‰ å¯¹åº”æ‰€æœ‰ (r = v)ï¼š\n(1,1), (2,2), (3,3), (4,4), (5,5), (6,6)\næœ€åæŠŠæ‰€æœ‰è¢«åŠ è¿‡çš„å¯¹åˆå¹¶(1,1)(1,2)(2,1)(2,2)(3,1)(3,2)(3,3)(4,1)(4,2)(4,4)(5,1)(5,2)(5,5)(6,1)(6,2)(6,3)(6,6)æ­£å¥½ 17 ä¸ªï¼Œä¸€ä¸ªä¸å°‘ï¼Œä¸€ä¸ªä¸å¤š\nä¸ºä»€ä¹ˆä¸ä¼šé‡å¤ï¼Ÿé¦–å…ˆä½ åœ¨æ€•ä»€ä¹ˆï¼Ÿ\næ€•ï¼ˆrï¼Œvï¼‰è¢«é‡å¤è®°å…¥ansï¼\næˆ‘ä»¬è¯æ˜ï¼šä»»æ„åˆæ³•çš„ (r, v) ä¸ä¼šè¢«é‡å¤è®¡å…¥ ansã€‚\nå‡è®¾ç›¸åï¼Œå­˜åœ¨ä¸€å¯¹ (r, v)ï¼Œå®ƒåœ¨ä¸¤è½®ä¸åŒçš„å¾ªç¯ i = x å’Œ i = y (x â‰  y) ä¸­éƒ½è¢«ç»Ÿè®¡ã€‚\nå‡è®¾k = 3ï¼Œä»¥ï¼ˆ2, 1ï¼‰æˆç«‹ï¼ˆå½“ä»¥2ä¸ºæ ¹æ—¶ï¼Œ1å¯ä»¥ä½œä¸ºLCAï¼‰ä¸ºä¾‹ï¼Œç”±ACç å¾—ï¼š\nè€ƒè™‘åˆ°å­æ ‘2ï¼ˆi = 2ï¼‰,æœ‰(2, 1)ä¼šæ˜¯ä¸‹ä¾‹æƒ…å†µï¼š\n    1   / \\  2   3       \\        4æ­¤æ—¶é€‰&#123;1,3,4&#125;å¯å¾—LCA=1.\nå¦‚æœè€ƒè™‘åˆ°å­æ ‘3ï¼ˆi = 3ï¼‰ï¼Œä»æœ‰(2, 1)ï¼Œå› ä¸º (r, v)ä¸­ï¼Œvåªä¼šæ˜¯iè‡ªå·±æˆ–içš„çˆ¶ç»“ç‚¹ï¼Œæ‰€ä»¥1æ˜¯3çš„çˆ¶ç»“ç‚¹ï¼Œæ­¤æ—¶è¦æ»¡è¶³ï¼ˆ2, 1ï¼‰æˆç«‹ï¼Œåˆ™2å¿…é¡»æ˜¯3çš„å­ç»“ç‚¹ï¼Œä¸ä¸Šå›¾1æ˜¯2çš„çˆ¶ç»“ç‚¹çŸ›ç›¾ï¼\n    1   / \\  2 - 3       \\        4æ­¤æ—¶ä¸æ˜¯æ ‘ç»“æ„ï¼\nå¾—è¯ï¼\n","categories":["é¢˜è§£"],"tags":["C++"]},{"title":"CF2169C","url":"/2025/12/15/CF2169C/","content":" Problem - C - Codeforces \nè¿™é¢˜æœ‰2ä¸ªè§£æ³•ï¼Œç„¶è€Œæˆ‘èµ›æ—¶ä¸€ä¸ªæ²¡å†™å‡ºæ¥ï¼Œè¿™ä¸æ˜¯åºŸç‰©æ˜¯ä»€ä¹ˆï¼Ÿ\nè§£æ³•ä¸€å¯¹äºä»»æ„åŒºé—´ [L,R]ï¼š\n\\Delta = (R-L+1)(L+R) - (pre[R]-pre[L-1])æ¢ç®—ä¸€ä¸‹ï¼Œå¾—åˆ°ï¼š\n\\Delta =(R^2+Râˆ’pre[R])+(pre[Lâˆ’1]âˆ’(L^2âˆ’L))æ³¨æ„åˆ°\n\\Delta = \\underbrace{(R^2+Râˆ’pre[R])}_{åªä¸Ræœ‰å…³}+\\underbrace{(pre[Lâˆ’1]âˆ’(L^2âˆ’L)) }_{åªä¸Læœ‰å…³}æ±‚$\\Delta$çš„æœ€å¤§å€¼å³å¯\næ€ä¹ˆæ²¡å†™å‡ºæ¥å‘¢ï¼Ÿ\n#include &lt;bits/stdc++.h&gt;using namespace std;const int N = 1e9 + 5;void solve()&#123;    int n;    cin &gt;&gt; n;    vector&lt;int&gt; a(n + 1), pre(n + 1);    for (int i = 1; i &lt;= n; ++i) &#123;        cin &gt;&gt; a[i];        pre[i] = pre[i - 1] + a[i];    &#125;    int mx1 = 0, mx2 = 0;    for (int i = 1; i &lt;= n; ++i) &#123;        int x = pre[i - 1] - i * (i - 1);        mx1 = max(x, mx1);        x = i * (i + 1) - pre[i];        mx2 = max(x, mx2);    &#125;    cout &lt;&lt; pre[n] + mx1 + mx2 &lt;&lt; endl;&#125;int main() &#123;    ios::sync_with_stdio(0);    cin.tie(0);    cout.tie(0);    int _ = 1;    cin &gt;&gt; _;    while (_--)        solve();    return 0;&#125;\nè¿™æ˜¯é”™çš„ï¼Œå› ä¸ºLè¦å°äºRï¼Œè€Œæˆ‘å–äº†å…¨å±€æœ€å¤§ï¼š\nint mx1 = 0, mx2 = 0;for (int i = 1; i &lt;= n; ++i) &#123;    int x = pre[i - 1] - i * (i - 1);    mx1 = max(x, mx1);    x = i * (i + 1) - pre[i];    mx2 = max(x, mx2);&#125;\næ­£è§£æ˜¯ï¼š\nint mx = 0, ans = 0;for (int i = 1; i &lt;= n; ++i) &#123;    int x = pre[i - 1] - i * (i - 1);    mx = max(x, mx);    x = i * (i + 1) - pre[i] + mx;    ans = max(x, ans);&#125;\n è¿™æ ·å¯ä»¥ä¿è¯L&lt;=R\nå¦™å•Š\nACç å¦‚ä¸‹ï¼š#include &lt;bits/stdc++.h&gt;using namespace std;const int N = 1e9 + 5;void solve()&#123;    int n;    cin &gt;&gt; n;    vector&lt;int&gt; a(n + 1), pre(n + 1);    for (int i = 1; i &lt;= n; ++i) &#123;        cin &gt;&gt; a[i];        pre[i] = pre[i - 1] + a[i];    &#125;    int mx = 0, ans = 0;    for (int i = 1; i &lt;= n; ++i) &#123;        int x = pre[i - 1] - i * (i - 1);        mx = max(x, mx);        x = i * (i + 1) - pre[i] + mx;        ans = max(x, ans);    &#125;    cout &lt;&lt; pre[n] + ans &lt;&lt; endl;&#125;int main() &#123;    ios::sync_with_stdio(0);    cin.tie(0);    cout.tie(0);    int _ = 1;    cin &gt;&gt; _;    while (_--)        solve();    return 0;&#125;\nè§£æ³•äºŒå¯¹äºä»»æ„åŒºé—´ [L,R]ï¼š\nåŸåŒºé—´å’Œä¸ºï¼š\n\\displaystyle\\sum_{i=L}^{R} a_iæ›¿æ¢åçš„åŒºé—´å’Œï¼š \nT = (R-L+1)(L+R)ç¥å¥‡çš„æ¥äº†ï¼Œæ³¨æ„åˆ°\nT = (R-L+1)(L+R) = 2  \\times  \\dfrac{(R-L+1)(L+R)}{2}è¿™æ˜¯ä»€ä¹ˆï¼Ÿ\n\\dfrac{(R-L+1)(L+R)}{2}è¿™æ˜¯ç­‰å·®åºåˆ—çš„æ±‚å’Œå…¬å¼ï¼ï¼š\n\n\n$$S_n = \\dfrac{{é¡¹æ•°}\\times (\\text{é¦–é¡¹} + \\text{æœ«é¡¹})}{2}$$\n\n\næ‰€ä»¥ï¼š\nT = 2  \\times  \\dfrac{(R-L+1)(L+R)}{2} =2 \\times (L+(L+1)+â‹¯+R)æ‰€ä»¥$T$ä¹Ÿå¯ä»¥å†™æˆ:\n\n\n$$\\displaystyle{2 \\times \\sum_{i=L}^{R}} i = \\displaystyle{ \\sum_{i=L}^{R}} 2i$$\n\n\næ‰€ä»¥$\\Delta$å¯ä»¥å†™æˆ:\n\n\n$$\\displaystyle{\\Delta = T - \\displaystyle\\sum_{i=L}^{R} a_i =  \\sum_{i=L}^{R} {(2i - a_i)}}$$\n\n\näºæ˜¯é—®é¢˜ç®€åŒ–æˆï¼šå¯»æ‰¾åŒºé—´ï¼Œä½¿å¾— $\\displaystyle{\\Delta = \\sum_{i=L}^{R} {(2i - a_i)}}$ æœ€å¤§\nè¿™å·²ç»æ˜¯æ ‡å‡†æœ€å¤§å­æ®µå’Œé—®é¢˜äº†\nACç å¦‚ä¸‹ï¼š#include&lt;bits/stdc++.h&gt;using namespace std;    const int N=1e9+5;    void solve()&#123;        int n; cin &gt;&gt; n;    vector&lt;int&gt; a(n + 1), b(n + 1);     long long sum = 0;    for (int i = 1; i &lt;= n; ++i) &#123;        cin &gt;&gt; a[i];        sum += a[i];        b[i] = 2 * i - a[i];    &#125;        long long ans = 0, tot = 0;    for (int i = 1; i &lt;= n; ++i) &#123;        tot = max(0LL, tot + b[i]);        ans = max(tot, ans);    &#125;    cout &lt;&lt; ans + sum &lt;&lt; endl;&#125;    int main()&#123;        ios::sync_with_stdio(0);cin.tie(0);cout.tie(0);    int _=1;    cin&gt;&gt;_;    while(_--)    solve();    return 0;    &#125;\n","categories":["é¢˜è§£"],"tags":["C++"]},{"title":"æ¬§æ‹‰å‡½æ•°","url":"/2025/12/15/%E6%AC%A7%E6%8B%89%E5%87%BD%E6%95%B0/","content":"æ¬§æ‹‰å‡½æ•° (Eulerâ€™s Totient Function) è¯¦è§£æ¬§æ‹‰å‡½æ•° Ï†(n) æ˜¯æ•°è®ºä¸­ä¸€ä¸ªéå¸¸é‡è¦çš„å‡½æ•°ï¼Œå®ƒè¡¨ç¤ºå°äºæˆ–ç­‰äº n çš„æ­£æ•´æ•°ä¸­ä¸ n äº’è´¨çš„æ•°çš„ä¸ªæ•°ã€‚\nå®šä¹‰å¯¹äºæ­£æ•´æ•° nï¼Œæ¬§æ‹‰å‡½æ•° Ï†(n) å®šä¹‰ä¸ºï¼šÏ†(n) = å°äºæˆ–ç­‰äº n çš„æ­£æ•´æ•°ä¸­ä¸ n äº’è´¨çš„æ•°çš„ä¸ªæ•°å…¶ä¸­â€äº’è´¨â€æ„å‘³ç€ä¸¤ä¸ªæ•°çš„æœ€å¤§å…¬çº¦æ•°ä¸º1ã€‚\nè®¡ç®—æ–¹æ³•1. å¯¹äºè´¨æ•° på¦‚æœ p æ˜¯è´¨æ•°ï¼Œé‚£ä¹ˆï¼šÏ†(p) = p - 1å› ä¸º1,2,â€¦,p-1éƒ½ä¸päº’è´¨ã€‚\n2. å¯¹äºè´¨æ•°çš„å¹‚ páµÏ†(páµ) = páµ - páµâ»Â¹ = páµ(1 - 1/p)\nå› ä¸ºåœ¨1åˆ°páµä¹‹é—´ï¼Œåªæœ‰pçš„å€æ•°ä¸ä¸páµäº’è´¨ï¼Œè¿™æ ·çš„æ•°æœ‰páµâ»Â¹ä¸ªã€‚\n3. å¯¹äºä»»æ„æ­£æ•´æ•° nåˆ©ç”¨ä¸­å›½å‰©ä½™å®šç†å’Œç§¯æ€§å‡½æ•°æ€§è´¨ï¼Œå¦‚æœnçš„æ ‡å‡†è´¨å› æ•°åˆ†è§£ä¸ºï¼šn = pâ‚áµÂ¹ Ã— pâ‚‚áµÂ² Ã— ... Ã— pâ‚˜áµáµé‚£ä¹ˆï¼šÏ†(n) = n Ã— (1 - 1/pâ‚) Ã— (1 - 1/pâ‚‚) Ã— ... Ã— (1 - 1/pâ‚˜)\nç¤ºä¾‹è®¡ç®—\nÏ†(10):\n10 = 2 Ã— 5Ï†(10) = 10 Ã— (1 - 1/2) Ã— (1 - 1/5) = 10 Ã— 1/2 Ã— 4/5 = 4\nå®é™…ä¸10äº’è´¨çš„æ•°æœ‰1,3,7,9ï¼Œå…±4ä¸ªã€‚\n\nÏ†(12):\n12 = 2Â² Ã— 3Ï†(12) = 12 Ã— (1 - 1/2) Ã— (1 - 1/3) = 12 Ã— 1/2 Ã— 2/3 = 4\nå®é™…ä¸12äº’è´¨çš„æ•°æœ‰1,5,7,11ï¼Œå…±4ä¸ªã€‚\n\n\nåœ¨ä»£ç ä¸­çš„åº”ç”¨åœ¨ä½ æä¾›çš„ä»£ç ä¸­ï¼Œè®¡ç®—äº†Ï†(210):210 = 2 Ã— 3 Ã— 5 Ã— 7Ï†(210) = 210 Ã— (1 - 1/2) Ã— (1 - 1/3) Ã— (1 - 1/5) Ã— (1 - 1/7)       = 210 Ã— 1/2 Ã— 2/3 Ã— 4/5 Ã— 6/7       = 48è¿™æ„å‘³ç€åœ¨æ¯210ä¸ªè¿ç»­æ•´æ•°ä¸­ï¼Œæœ‰48ä¸ªæ•°ä¸è¢«2,3,5,7æ•´é™¤ï¼ˆå³ä¸210äº’è´¨ï¼‰ã€‚\næ€§è´¨\nç§¯æ€§å‡½æ•°ï¼šå¦‚æœmå’Œnäº’è´¨ï¼Œåˆ™Ï†(mn) = Ï†(m)Ï†(n)\næ¬§æ‹‰å®šç†ï¼šå¦‚æœaå’Œnäº’è´¨ï¼Œåˆ™a^Ï†(n) â‰¡ 1 (mod n)\nè´¹é©¬å°å®šç†ï¼šå½“næ˜¯è´¨æ•°pæ—¶çš„ç‰¹ä¾‹ï¼Œa^(p-1) â‰¡ 1 (mod p)\n\næ¬§æ‹‰å‡½æ•°åœ¨å¯†ç å­¦ï¼ˆå¦‚RSAç®—æ³•ï¼‰ã€æ•°è®ºå’Œç»„åˆæ•°å­¦ä¸­éƒ½æœ‰å¹¿æ³›åº”ç”¨ã€‚\n","categories":["ç¬”è®°"],"tags":["C++"]},{"title":"ä½è¿ç®—å°æŠ€å·§æ€»ç»“","url":"/2025/12/15/%E4%BD%8D%E8%BF%90%E7%AE%97%E5%B0%8F%E6%8A%80%E5%B7%A7%E6%80%BB%E7%BB%93/","content":"ä½è¿ç®—å°æŠ€å·§æ€»ç»“1. å¥‡å¶æ€§å¿«é€Ÿåˆ¤æ–­ä¸åè½¬// åˆ¤æ–­å¥‡å¶æ€§bool is_odd = x &amp; 1;  // çœŸä¸ºå¥‡æ•°ï¼Œå‡ä¸ºå¶æ•°// 0/1äº¤æ›¿n ^= 1;\n2. äºŒè¿›åˆ¶ä½æ“ä½œ// (1) å–ç¬¬kä½ï¼ˆä»0å¼€å§‹ï¼‰int bit = (n &gt;&gt; k) &amp; 1;// (2) è®¾ç½®ç¬¬kä½ä¸º1n |= (1 &lt;&lt; k);// (3) è®¾ç½®ç¬¬kä½ä¸º0n &amp;= ~(1 &lt;&lt; k);\n3. ä½éå†(åˆ¤æ–­å½“å‰ä½æ˜¯ 1 è¿˜æ˜¯ 0 )while(num) &#123;           // å½“numä¸ä¸º0æ—¶å¾ªç¯    if(num &amp; 1) &#123;              // å½“å‰ä½ä¸º1çš„å¤„ç†é€»è¾‘     &#125;    else&#123;        // å½“å‰ä½ä¸º0çš„å¤„ç†é€»è¾‘    &#125;    num &gt;&gt;= 1;         // å³ç§»ä¸€ä½ï¼ˆç›¸å½“äºé™¤ä»¥2ï¼‰&#125;\n4. å¿«é€Ÿè®¡ç®—äºŒè¿›åˆ¶1çš„ä¸ªæ•°ï¼ˆ__builtin_popcountï¼‰int cnt = __builtin_popcount(x); // GCCå†…ç½®å‡½æ•°// ç­‰ä»·äºï¼šint cnt = 0;while(x) &#123;    x &amp;= x - 1;  // æ¸…é™¤æœ€ä½ä½çš„1    ++cnt;&#125;\n5. ä¿ç•™æœ€ä½ä½çš„1ï¼ˆlowbitï¼‰int lowbit = x &amp; -x;  // æ ‘çŠ¶æ•°ç»„æ ¸å¿ƒæ“ä½œ// ä¾‹å¦‚ï¼šx=6(110) â†’ 2(10)\n6. åˆ¤æ–­/å¯»æ‰¾0ä½int t = 1ll;for (int i = 0; i &lt;= 63;++i)&#123;    if(!(n&amp;t))&#123;     //æ ¸å¿ƒåˆ¤æ–­æ¡ä»¶        //nçš„ç¬¬iä½ä¸º0    &#125;    t &lt;&lt;= 1;&#125;\n7. åˆ¤æ–­æ˜¯å¦ä¸º2çš„å¹‚bool is_power_of_two = (x &amp; (x - 1)) == 0;// æ³¨æ„ç‰¹åˆ¤x=0æ—¶ä¸ºfalse\n8. ä½è¿ç®—ä¼˜å…ˆçº§å£è¯€~ &gt; ç®—æœ¯è¿ç®— &gt; &lt;&lt; &gt;&gt; &gt; &amp; &gt; ^ &gt; |\næ³¨æ„äº‹é¡¹\nä½è¿ç®—ä¼˜å…ˆçº§å®¹æ˜“å‡ºé”™ï¼Œå»ºè®®å¤šç”¨æ‹¬å·\nå³ç§»æ—¶æ³¨æ„ç¬¦å·ä½ï¼ˆæ— ç¬¦å·ç”¨&gt;&gt;ï¼Œæœ‰ç¬¦å·ç”¨&gt;&gt;&gt;ï¼‰\nå¤§æ•°è¿ç®—è®°å¾—åŠ 1LLé˜²æ­¢æº¢å‡º\n\n","categories":["ç¬”è®°"],"tags":["C++"]},{"title":"ä»é€æ¬¡å‡æ³•åˆ°é«˜æ•ˆé™¤æ³•","url":"/2025/12/15/%E4%BB%8E%E9%80%90%E6%AC%A1%E5%87%8F%E6%B3%95%E5%88%B0%E9%AB%98%E6%95%88%E9%99%A4%E6%B3%95/","content":"ä»é€æ¬¡å‡æ³•åˆ°é«˜æ•ˆé™¤æ³•é¢˜ç›®æè¿°ï¼šç»™å®šåˆå§‹å€¼ Nï¼Œä»¥åŠ M ç§æ“ä½œï¼Œæ¯ç§æ“ä½œ (a, b)ï¼Œè¡¨ç¤ºæ¯æ¬¡æ“ä½œå¿…é¡»æ»¡è¶³ N &gt;= aï¼Œç„¶å N ä¼šå‡å°‘ bã€‚è¦æ±‚è®¡ç®—æœ€å¤šå¯ä»¥æ‰§è¡Œå¤šå°‘æ¬¡æ“ä½œï¼Œå¹¶æ›´æ–° Nã€‚\n\næ€è·¯ä¸æ¨å¯¼ï¼š\næ“ä½œæè¿°ï¼šæ¯ä¸ªæ“ä½œ (a, b)ï¼Œè¡¨ç¤ºï¼š\n\nåªæœ‰å½“ N &gt;= a æ—¶ï¼Œæ‰èƒ½è¿›è¡Œæ“ä½œã€‚\næ¯æ¬¡æ“ä½œä¼šå°† N å‡å» bï¼Œç›´åˆ°æ— æ³•ç»§ç»­æ‰§è¡Œä¸ºæ­¢ã€‚\n\n\næœ€å¤§æ“ä½œæ¬¡æ•°çš„æ¨å¯¼ï¼šå‡è®¾å¯¹äºæŸä¸ªæ“ä½œ a å’Œ bï¼Œæˆ‘ä»¬å¸Œæœ›è®¡ç®—æœ€å¤šå¯ä»¥æ‰§è¡Œå¤šå°‘æ¬¡è¯¥æ“ä½œã€‚\nç”±äºæ¯æ¬¡æ“ä½œå°† N å‡å°‘ bï¼Œä¸ºäº†ä¿è¯ N å§‹ç»ˆå¤§äºç­‰äº aï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ä»¥ä¸‹æ¡ä»¶ï¼š\n\nN - t \\cdot b \\geq aå…¶ä¸­ t ä¸ºæœ€å¤§æ‰§è¡Œæ¬¡æ•°ã€‚ç”±æ­¤å¯ä»¥å¾—åˆ°ï¼š\n\nt \\leq \\frac{N - a}{b}è¿™æ„å‘³ç€æœ€å¤šå¯ä»¥è¿›è¡Œ $t = \\left\\lfloor \\frac{N - a}{b} \\right\\rfloor$ æ¬¡æ“ä½œã€‚\nä¸ºä»€ä¹ˆè¦åŠ  1ï¼Ÿ\n\nå› ä¸ºNåœ¨å‡äº†tæ¬¡ä¹‹åè¿˜æ˜¯å¤§äºæˆ–ç­‰äºaçš„\nN - t \\cdot b \\geq aè¿˜å¯ä»¥å†è¿›è¡Œä¸€æ¬¡æ“ä½œ,è¿™æ¬¡å‡äº†bäº†ä¹‹å,Nå°äºa,ä¸ä¼šå†è¿›è¡Œä¸‹ä¸€æ¬¡(a,b)æ“ä½œäº†\n\næ‰€ä»¥ï¼Œæœ€ç»ˆçš„æœ€å¤§æ“ä½œæ¬¡æ•°æ˜¯ï¼š\n\nt = \\left\\lfloor \\frac{N - a}{b} \\right\\rfloor + 1\næ›´æ–° Nï¼šæ¯æ¬¡æ“ä½œæ‰§è¡Œ t æ¬¡åï¼ŒN ä¼šå‡å°‘ t * bã€‚æ›´æ–°åçš„ N ä¸ºï¼š\n\nN = N - t \\cdot bç»§ç»­è¿›è¡Œä¸‹ä¸€ä¸ªæ“ä½œï¼Œç›´åˆ°éå†æ‰€æœ‰æ“ä½œã€‚\n\n\n\nç¤ºä¾‹ï¼šè¾“å…¥ï¼š100 220 350 5\nè¾“å‡ºï¼š27\nè§£é‡Šï¼š\nç¬¬ä¸€ä¸ªæ“ä½œï¼ša = 20, b = 3ï¼Œè®¡ç®— (100 - 20) / 3 + 1 = 27ï¼Œæ‰§è¡Œ 27 æ¬¡ï¼Œæ›´æ–° N = 100 - 27 * 3 = 19ã€‚\nç¬¬äºŒä¸ªæ“ä½œï¼ša = 50, b = 5ï¼Œç”±äº N = 19 å°äº 50ï¼Œè·³è¿‡è¯¥æ“ä½œã€‚\næœ€ç»ˆè¾“å‡º cnt = 27ã€‚\n\n\næ€»ç»“ï¼šé€šè¿‡ä¼˜åŒ–å¾ªç¯ï¼Œä½¿ç”¨æ•°å­¦å…¬å¼ä¸€æ¬¡æ€§è®¡ç®—æ¯ä¸ªæ“ä½œçš„æœ€å¤§æ‰§è¡Œæ¬¡æ•°ï¼Œé¿å…äº†é€æ¬¡å‡æ³•ï¼Œä»è€Œæé«˜äº†ç¨‹åºæ•ˆç‡ã€‚æ ¸å¿ƒè€ƒå¯Ÿäº†é€šè¿‡æ•°å­¦æ¨å¯¼è§£å†³åŠ¨æ€é—®é¢˜å’Œä¼˜åŒ–è®¡ç®—æ—¶é—´çš„èƒ½åŠ›ã€‚\n","categories":["ç¬”è®°"],"tags":["C++"]},{"title":"æµ®ç‚¹äºŒåˆ†å’Œä¸‰åˆ†","url":"/2025/12/15/%E6%B5%AE%E7%82%B9%E4%BA%8C%E5%88%86%E5%92%8C%E4%B8%89%E5%88%86/","content":"https://ac.nowcoder.com/acm/contest/120454/F\n å±äºå…¸å‹çš„â€œæ˜¯å¦å­˜åœ¨ä¸€ä¸ª X âˆˆ R å¯ä»¥æ»¡è¶³æ‰€æœ‰çº¦æŸâ€çš„é—®é¢˜ \næµ®ç‚¹äºŒåˆ†äºŒåˆ†è§£æ³•ï¼š äºŒåˆ†ç­”æ¡ˆ$r^2$ï¼Œç„¶åå°†åŒºé—´$x-\\sqrt{r^2-y^2}$åˆ°$x+\\sqrt{r^2-y^2}$ åŒºé—´è¦†ç›–åˆ¤æ–­ï¼Œè‹¥æ‰€æœ‰åŒºé—´å­˜åœ¨äº¤é›†ï¼Œåˆ™è¿”å›true \nå…ˆçœ‹é”™è§£ï¼š\n#include&lt;bits/stdc++.h&gt;using namespace std;struct node &#123;    double x, y;&#125;; void solve()&#123;     int n; cin &gt;&gt; n;    vector&lt;node&gt; a(n + 1);    for (int i = 1; i &lt;= n; ++i) &#123;        cin &gt;&gt; a[i].x &gt;&gt; a[i].y;    &#125;    auto check = [&amp;](double R2) -&gt; bool &#123;        double L = -1e9, R = 1e9;        for (int i = 1; i &lt;= n; ++i) &#123;            double X = R2 - a[i].y * a[i].y;            double l = a[i].x - sqrt(X);            double r = a[i].x + sqrt(X);            L = max(L, l);            R = min(R, r);        &#125;        return L &lt;= R;    &#125;;    double l = -1e9, r = 1e9;    double ans;    while (l &lt;= r) &#123;        double mid = l + (r - l) / 2.0;        if (check (mid)) &#123;            ans = mid;            l = mid + 1;        &#125;        else &#123;            r = mid - 1;        &#125;    &#125;    cout &lt;&lt; sqrt(ans) &lt;&lt; endl; &#125; int main()&#123;     ios::sync_with_stdio(0);cin.tie(0);cout.tie(0);    int _=1;    while(_--)    solve();    return 0; &#125;\né”™è¯¯ç‚¹ï¼š\n\nåœ¨äºŒåˆ†ä¸€ä¸ª doubleï¼Œå´ä½¿ç”¨äº†æ•´æ•°äºŒåˆ†å†™æ³• \nwhile (l &lt;= r) &#123;    mid = l + (r - l) / 2;    if (check(mid)) l = mid + 1;    else r = mid - 1;&#125;\nä½¿ç”¨è¿™ç§æ¯”è¾ƒå®Œå…¨ä¸æ”¶æ•›ï¼Œè€Œä¸” mid + 1 ä¼šè·³è¿‡æ­£ç¡®ç­”æ¡ˆï¼Œå¯¼è‡´æ°¸è¿œä¸ç²¾ç¡®ã€‚ \n\ncheck(R2) æ²¡æœ‰è¾¹ç•Œåˆ¤æ–­ \nå¦‚æœ $r^2$ &lt; $y^2$ï¼Œ$x^2$ä¸ºè´Ÿï¼Œä¼š sqrt(è´Ÿæ•°) â†’ nan â†’ WA/RE \n\näºŒåˆ†åŒºé—´ä¸åº”è¯¥æ˜¯ [-1e9, 1e9] \n[-1e9, 1e9] æœ‰ä¸€åŠæ˜¯æ— æ•ˆåŒºé—´å› ä¸ºæˆ‘ä»¬äºŒåˆ†ç­”æ¡ˆ $r^2$ ï¼Œè€ŒåŠå¾„å¹³æ–¹ä¸èƒ½ä¸ºè´Ÿ\n\n\næ­£ç¡®å†™æ³•ï¼šæµ®ç‚¹äºŒåˆ†ï¼ˆæ¨¡æ¿ï¼‰  double l = 0, r = 2e8;   // 1e4^2 + 1e4^2for (int i = 0; i &lt; 60; i++) &#123;    double mid = (l + r) / 2;    if (check(mid)) r = mid;    else l = mid;&#125;\n ä¸èƒ½ç”¨ while(l &lt;= r)ï¼ï¼ \næœ€ç»ˆæ—  bug ç‰ˆæœ¬#include&lt;bits/stdc++.h&gt;using namespace std;struct node &#123;    double x, y;&#125;; void solve()&#123;     int n; cin &gt;&gt; n;    vector&lt;node&gt; a(n + 1);    for (int i = 1; i &lt;= n; ++i) &#123;        cin &gt;&gt; a[i].x &gt;&gt; a[i].y;    &#125;    auto check = [&amp;](double R2) -&gt; bool &#123;        double L = -1e9, R = 1e9;        for (int i = 1; i &lt;= n; ++i) &#123;            double X = R2 - a[i].y * a[i].y;            if (X &lt; 0) return 0;\t//è‹¥åœ†ä¸xè½´æ— äº¤ç‚¹ï¼Œå³X &lt; 0ï¼Œç›´æ¥è¿”å›falseï¼Œå¦åˆ™sqrt(X)ä¼šnan                        double l = a[i].x - sqrt(X);            double r = a[i].x + sqrt(X);            L = max(L, l);            R = min(R, r);        &#125;        return L &lt;= R;    &#125;;        double l = 0, r = 1e9;    for (int i = 1; i &lt;= 60; ++i) &#123;        double mid = l + (r - l) / 2;        if (check(mid)) &#123;            r = mid;\t//è¿™é‡Œåº”è¯¥ä»¥rä¸ºç­”æ¡ˆï¼Œä¹‹å‰è¿è¿™é‡Œéƒ½é”™äº†ï¼        &#125;        else &#123;            l = mid;        &#125;    &#125;        cout &lt;&lt; setprecision(6) &lt;&lt; sqrt(r) &lt;&lt; endl; &#125; int main()&#123;     ios::sync_with_stdio(0);cin.tie(0);cout.tie(0);    int _=1;    while(_--)    solve();    return 0; &#125;\nä¸‰åˆ†ä¸‰åˆ†æ³•æ˜¯ä¸€ç§ç”¨äºåœ¨â€œå•å³°/å•è°·å‡½æ•°f(x)â€ä¸Šå¯»æ‰¾æœ€ä¼˜å€¼ï¼ˆæœ€å¤§æˆ–æœ€å°ï¼‰çš„ç®—æ³•ã€‚ \nä¸‰åˆ†æ³•æ€æƒ³ï¼š æŠŠåŒºé—´ [l, r] åˆ†æˆä¸‰æ®µï¼š l â€”â€” m1 â€”â€” m2 â€”â€” r\n å…¶ä¸­ï¼š m1 = l + (r - l) / 3 ï¼ˆå·¦ä¸‰ç­‰åˆ†ç‚¹ï¼‰            m2 = r - (r - l) / 3ï¼ˆå³ä¸‰ç­‰åˆ†ç‚¹ï¼‰\n ç„¶åæ¯”è¾ƒï¼š f(m1) å’Œ f(m2)\nå¦‚æœ f(m1) &lt; f(m2) â†’ æœ€é«˜ç‚¹åœ¨åŒºé—´ (m1, r) â†’ æ‰”æ‰å·¦è¾¹éƒ¨åˆ† l = m1\nå¦‚æœ f(m1) &gt; f(m2) â†’ æœ€é«˜ç‚¹åœ¨åŒºé—´ (l, m2) â†’ æ‰”æ‰å³è¾¹éƒ¨åˆ† r = m2\nä¸‰åˆ†æ³•ä»£ç æ¨¡æ¿ï¼ˆæ•´æ•°åŒºé—´ï¼‰int ternary(int l, int r) &#123;    while (r - l &gt;= 3) &#123;        int m1 = l + (r - l) / 3;        int m2 = r - (r - l) / 3;        if (f(m1) &lt; f(m2))             l = m1;        else             r = m2;    &#125;&#125;\nä¸‰åˆ†æ³•ä»£ç æ¨¡æ¿ï¼ˆå®æ•°åŒºé—´ï¼‰double ternary(double l, double r) &#123;    const double eps = 1e-12;     while (r - l &gt; eps) &#123;        double m1 = l + (r - l) / 3;        double m2 = r - (r - l) / 3;        if (f(m1) &lt; f(m2)) &#123;            l = m1;        &#125; else &#123;            r = m2;        &#125;    &#125;&#125;\nç®—äº†ï¼Œç›´æ¥çœ‹é¢˜å§\næˆ‘ä»¬è¦åœ¨ x è½´ä¸Šé€‰ä¸€ä¸ªç‚¹ Xï¼Œä½¿å¾—åˆ°æ‰€æœ‰ç‚¹ ($x_i$, $y_i$) çš„ æœ€å¤§è·ç¦»æœ€å°ï¼š \n$f(x) =  \\max\\limits_{1 \\le i \\le n}\\sqrt{(X - x_i)^2 + y_i^2}$\nè‡ªå·±æ„Ÿå—ä¸€ä¸‹ï¼š$X$ä»xè½´å·¦è¾¹åˆ°xè½´å³è¾¹ï¼Œ$\\max\\limits_{1 \\le i \\le n}\\sqrt{(X - x_i)^2 + y_i^2}$ è‚¯å®šå…ˆå˜å°åå˜å¤§\næ‰€ä»¥è¿™ä¸ªå‡½æ•° æ˜¯å‡¹çš„ï¼ˆå•å³°ï¼‰ï¼Œæˆ‘ä»¬è¦æœ$f(x)$ çš„æœ€å°å€¼ï¼ˆå¯¹åº”$x$ä¸ºXï¼‰ï¼Œå› æ­¤å¯ç”¨ ä¸‰åˆ†æ³• æœç´¢ Xã€‚ \nä»£ç ï¼ˆAC ç‰ˆæœ¬ï¼ŒC++ï¼‰#include&lt;bits/stdc++.h&gt;using namespace std;struct node &#123;    int x, y;&#125;;void solve()&#123;        int n; cin &gt;&gt; n;    vector&lt;node&gt; a(n + 1);    for (int i = 1; i &lt;= n; ++i) &#123;        cin &gt;&gt; a[i].x &gt;&gt; a[i].y;    &#125;    auto f = [&amp;](double x) -&gt; double &#123;        double mx = 0;        for (int i = 1; i &lt;= n; ++i) &#123;            double dx = a[i].x - x, dy = a[i].y;            mx = max(mx, sqrt(dx * dx + dy * dy));        &#125;        return mx;    &#125;;    double l = -10000, r = 10000;    for (int i = 1; i &lt;= 60; ++i) &#123;        double m1 = l + (r - l) / 3;        double m2 = r - (r - l) / 3;        if (f(m1) &gt; f(m2)) &#123;            l = m1;        &#125;        else &#123;            r = m2;        &#125;    &#125;    cout &lt;&lt; setprecision(6) &lt;&lt; f((l + r) / 2.0) &lt;&lt; endl;    &#125;    int main()&#123;    ios::sync_with_stdio(0);cin.tie(0);cout.tie(0);    int _=1;    while(_--)    solve();    return 0;    &#125;\næ”¶å·¥ï¼\n","categories":["ç¬”è®°"],"tags":["C++"]},{"title":"ä½è¿ç®—å°æŠ€å·§æ€»ç»“","url":"/2025/12/15/%E9%80%86%E5%90%91%E6%9D%A1%E4%BB%B6%E6%A6%82%E7%8E%87/","content":"é€†æ¨æ¦‚ç‡ç¬”è®°ä¸€ã€èƒŒæ™¯\né¢˜ç›®ç›®æ ‡ï¼šè®¡ç®—å¤šä¸ªåŒºé—´éšæœºå‡ºç°æ—¶ï¼Œæ¯ä¸ªæ ¼å­æ°å¥½è¢«ä¸€ä¸ªåŒºé—´è¦†ç›–çš„æ€»æ¦‚ç‡ã€‚\nç®€åŒ–ç‰ˆæœ¬ï¼šå»æ‰å–æ¨¡ã€é€†å…ƒï¼Œç”¨æµ®ç‚¹æ•° p/q è¡¨ç¤ºåŒºé—´å‡ºç°æ¦‚ç‡ã€‚\n\näºŒã€æ ¸å¿ƒæµç¨‹\nåˆå§‹åŒ– â€œéƒ½ä¸å‡ºç°â€ çš„æ¦‚ç‡ä¹˜ç§¯ï¼ˆansï¼‰\n\næ¯æ¡åŒºé—´ä¸å‡ºç°æ¦‚ç‡ = (q - p)/q\nans = âˆ (q - p)/q\n\n\nåŠ¨æ€è§„åˆ’ (DP)\n\nçŠ¶æ€ï¼šdp[i] è¡¨ç¤ºä»æ ¼å­ 1 åˆ° iï¼Œåœ¨â€œéƒ½ä¸å‡ºç°â€çš„å‰æä¸‹ï¼Œæ°å¥½è¢«è¦†ç›–ä¸€æ¬¡çš„æ¦‚ç‡ã€‚\nåˆå§‹ï¼šdp[0] = 1ï¼Œdp[1..m] = 0\n\n\nåŒºé—´æ’åºä¸è½¬ç§»\n\nå…ˆæŒ‰ lã€r æ’åºåŒºé—´ã€‚\nå¯¹ç¬¬ i æ¡åŒºé—´ [l, r] åšï¼š\ndp[r] += dp[l - 1] * (p / (q - p));\n\n\nç»“æœè®¡ç®—\n\næœ€ç»ˆç­”æ¡ˆ = ans * dp[m]\n\n\n\nä¸‰ã€å…³é”®ç–‘é—®ä¸è§£ç­”é—®é¢˜1ï¼šä¸ºä»€ä¹ˆè¦é™¤ä»¥ (q - p)ï¼Ÿ\nç›´è§‰è¯¯åŒºï¼šåœ¨â€œä¸å‡ºç°â€æƒ…å†µä¸‹ï¼Œå‡ºç°æ¦‚ç‡ä¼¼ä¹ä¸º 0ã€‚\næ¡ä»¶æ¦‚ç‡ï¼šåå‘æ¨å¯¼å°±æ˜¯åœ¨â€œä¸å‡ºç°â€çš„æ¡ä»¶ä¸‹ï¼Œæ¨å¯¼â€œå‡ºç°â€çš„ä¿®æ­£å› å­ã€‚\nå…¬å¼æ¨å¯¼ï¼š$P(å‡ºç°|ä¸å‡ºç°) = \\frac{P(å‡ºç°)}{P(ä¸å‡ºç°)} = \\frac{(p/q)}{((q-p)/q)} = \\frac{p}{q - p}.$\n\né—®é¢˜2ï¼šä»€ä¹ˆæ˜¯â€œåå‘æ¨å¯¼â€ï¼Ÿ\næŒ‡åœ¨â€œéƒ½ä¸å‡ºç°â€çš„æ¦‚ç‡ç©ºé—´ä¸­ï¼Œé€†å‘æ¼”ç®—æŸæ¡åŒºé—´çªç„¶å‡ºç°å¯¹æœ€ç»ˆç»“æœçš„å½±å“ã€‚\nä½œç”¨ï¼šç»™ dp è½¬ç§»æ·»åŠ æ­£ç¡®çš„æ¦‚ç‡ä¿®æ­£å› å­ã€‚\n\nå››ã€å°ä¾‹å­æ¼”ç¤º\nm = 3, åŒºé—´ A:[1,2], p/q=1/2; B:[3,3], p/q=1/3\nans = (1/2)*(2/3) = 1/3\nDP è½¬ç§»ï¼š\n\nA: dp[2] += dp[0] * (1/(2-1)) = 1  â‡’ dp[2] = 1\nB: dp[3] += dp[2] * (1/(3-1)) = 1/2 â‡’ dp[3] = 0.5\n\n\næœ€ç»ˆï¼šans * dp[3] = 1/3 * 1/2 = 1/6\n\näº”ã€ç®€åŒ–ç‰ˆä»£ç ï¼ˆå»æ¨¡ç‰ˆã€å–æ¨¡ã€å¿«é€Ÿå¹‚ï¼‰#include &lt;iostream&gt;#include &lt;vector&gt;#include &lt;algorithm&gt;using namespace std;struct Node &#123;    double l, r, p, q;&#125;;bool cmp(Node a, Node b) &#123;    if (a.l == b.l) return a.r &lt; b.r;    return a.l &lt; b.l;&#125;int main() &#123;    int n, m;    cin &gt;&gt; n &gt;&gt; m;    vector&lt;Node&gt; seg(n);    double ans = 1.0;    for (int i = 0; i &lt; n; ++i) &#123;        cin &gt;&gt; seg[i].l &gt;&gt; seg[i].r &gt;&gt; seg[i].p &gt;&gt; seg[i].q;        ans *= (seg[i].q - seg[i].p) / seg[i].q;    &#125;    sort(seg.begin(), seg.end(), cmp);    vector&lt;double&gt; dp(m + 5, 0);    dp[0] = 1.0;    for (int i = 0; i &lt; n; ++i) &#123;        dp[(int)seg[i].r] += dp[(int)seg[i].l - 1] * seg[i].p / (seg[i].q - seg[i].p);    &#125;    cout &lt;&lt; ans * dp[m] &lt;&lt; endl;    return 0;&#125;\n\nå¤‡æ³¨ï¼šä»¥ä¸Šç¬”è®°å¯å¸®åŠ©é˜Ÿå‹å¿«é€Ÿç†è§£â€œä¸ºä»€ä¹ˆé™¤ä»¥ (q-p)â€åŠåå‘æ¨å¯¼æ€è·¯ã€‚\nå…­ã€ç¤ºæ„å›¾è§£èµ·ç‚¹ dp[0] = 1.0  |  +-- åŒºé—´ A [1,2]       p/q = 1/2ï¼Œä¸å‡ºç°æ¦‚ç‡ (q-p)/q=1/2       ä¿®æ­£å› å­ p/(q-p)=1/(2-1)=1       =&gt; dp[2] += dp[0] * 1 = 1.0             |             +-- åŒºé—´ B [3,3]                  p/q = 1/3ï¼Œä¸å‡ºç°æ¦‚ç‡ (q-p)/q=2/3                  ä¿®æ­£å› å­ p/(q-p)=1/(3-1)=1/2                  =&gt; dp[3] += dp[2] * 1/2 = 0.5æœ€ç»ˆç­”æ¡ˆ = ans * dp[3] = (1/2*2/3) * 0.5 = 1/6\n","categories":["ç¬”è®°"],"tags":["C++"]},{"title":"Hello World","url":"/2025/12/09/hello-world/","content":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.\nQuick StartCreate a new post$ hexo new &quot;My New Post&quot;\nMore info: Writing\nRun server$ hexo server\nMore info: Server\nGenerate static files$ hexo generate\nMore info: Generating\nDeploy to remote sites$ hexo deploy\nMore info: Deployment\n"}]